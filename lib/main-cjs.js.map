{"version":3,"file":"main-cjs.js","sources":["../src/index.ts"],"sourcesContent":["import { Func } from \"./type\";\n\nfunction createStore<T = any>(reducer: Func) {\n    let state: T | null;\n    let listeners: Func[] = [];\n\n    function subscribe(callback: Func) {\n        listeners.push(callback);\n    }\n\n    function dispatch(action: any) {\n        state = reducer(state, action)\n        listeners?.forEach(listener => {\n            listener();\n        })\n    }\n\n    function getState() {\n        return state;\n    }\n\n    const store = {\n        subscribe,\n        dispatch,\n        getState,\n    }\n\n    return store;\n}\n\nexport { createStore }"],"names":[],"mappings":";;AAEA,SAAS,WAAW,CAAU,OAAa,EAAA;AACvC,IAAA,IAAI,KAAe,CAAC;IACpB,IAAI,SAAS,GAAW,EAAE,CAAC;IAE3B,SAAS,SAAS,CAAC,QAAc,EAAA;AAC7B,QAAA,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KAC5B;IAED,SAAS,QAAQ,CAAC,MAAW,EAAA;AACzB,QAAA,KAAK,GAAG,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAA;QAC9B,SAAS,KAAA,IAAA,IAAT,SAAS,KAAT,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,SAAS,CAAE,OAAO,CAAC,QAAQ,IAAG;AAC1B,YAAA,QAAQ,EAAE,CAAC;AACf,SAAC,CAAC,CAAA;KACL;AAED,IAAA,SAAS,QAAQ,GAAA;AACb,QAAA,OAAO,KAAK,CAAC;KAChB;AAED,IAAA,MAAM,KAAK,GAAG;QACV,SAAS;QACT,QAAQ;QACR,QAAQ;KACX,CAAA;AAED,IAAA,OAAO,KAAK,CAAC;AACjB;;;;"}