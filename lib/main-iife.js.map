{"version":3,"file":"main-iife.js","sources":["../src/index.ts"],"sourcesContent":["import { Func } from \"./type\";\n\nfunction createStore<T = any>(reducer: Func) {\n    let state: T | null;\n    let listeners: Func[] = [];\n\n    function subscribe(callback: Func) {\n        listeners.push(callback);\n    }\n\n    function dispatch(action: any) {\n        state = reducer(state, action)\n        listeners?.forEach(listener => {\n            listener();\n        })\n    }\n\n    function getState() {\n        return state;\n    }\n\n    const store = {\n        subscribe,\n        dispatch,\n        getState,\n    }\n\n    return store;\n}\n\nexport { createStore }"],"names":[],"mappings":";;;IAEA,SAAS,WAAW,CAAU,OAAa,EAAA;IACvC,IAAA,IAAI,KAAe,CAAC;QACpB,IAAI,SAAS,GAAW,EAAE,CAAC;QAE3B,SAAS,SAAS,CAAC,QAAc,EAAA;IAC7B,QAAA,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC5B;QAED,SAAS,QAAQ,CAAC,MAAW,EAAA;IACzB,QAAA,KAAK,GAAG,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAA;YAC9B,SAAS,KAAA,IAAA,IAAT,SAAS,KAAT,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,SAAS,CAAE,OAAO,CAAC,QAAQ,IAAG;IAC1B,YAAA,QAAQ,EAAE,CAAC;IACf,SAAC,CAAC,CAAA;SACL;IAED,IAAA,SAAS,QAAQ,GAAA;IACb,QAAA,OAAO,KAAK,CAAC;SAChB;IAED,IAAA,MAAM,KAAK,GAAG;YACV,SAAS;YACT,QAAQ;YACR,QAAQ;SACX,CAAA;IAED,IAAA,OAAO,KAAK,CAAC;IACjB;;;;;;;;;;"}